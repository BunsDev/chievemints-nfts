"use strict";(self.webpackChunk_chievemints_ui=self.webpackChunk_chievemints_ui||[]).push([[763],{8763:(t,e,a)=>{a.r(e),a.d(e,{default:()=>g});var n=a(2784),i=a(64033),r=a(33541),s=a(26106),l=a(60146),c=a(18813),o=a(14738),m=a(18671),u=a(62833),h=a(96111),f=a.n(h);const g=()=>{const[t,e]=(0,n.useState)([]),[a]=(0,u.lr)(),[h,g]=(0,n.useState)(Number(a.get("limit")??10)),[E,w]=(0,n.useState)(Number(a.get("offset")??0)),[y,d]=(0,n.useState)(!!a.get("gating")??!1),p=a.get("visible")??"",[k,C]=(0,n.useState)((0,l.YC)(p)),{roContract:S,constsContract:b}=(0,o.$6)(),x=(t,a)=>{e((e=>[...e.slice(0,t),{...e[t],...a},...e.slice(t+1)]))},[v,B]=(0,n.useState)(null),[I,N]=(0,n.useState)(null),[_,P]=(0,n.useState)(null),[T,Y]=(0,n.useState)(null);(0,n.useEffect)((()=>{S&&b&&(S.typeSupply().then((t=>t.toBigInt())).then(B),b.GATING_TYPE().then((t=>t.toBigInt())).then(N),b.TYPE_WIDTH().then(P),b.TYPE_BOUNDARY().then(Y))}),[S,b]),(0,n.useEffect)((()=>{C((0,l.YC)(p))}),[p]);const W=(0,n.useCallback)((async(t,e=!0)=>{try{const a=(await S.tokenByIndex(t)).toBigInt(),n={};return n.gating=(a&2n**BigInt(_)-1n<<BigInt(T))===I,n.hidden=e&&n.gating&&!y,{id:`0x${a.toString(16)}`,is:n,index:t}}catch(t){return t}}),[I,T,_,y,S]),$=(0,n.useCallback)((async t=>{await Promise.all(t.map((async(t,e)=>{if(!(t instanceof Error)){if(t.is?.hidden)return null;try{const a=await S.uri(t.id);if(""===a)throw new Error("No URI… Waiting for configuration…");x(e,{uri:a});const n=await fetch((0,l._m)(a)),i=await n.text();if(!i||""===i)throw new Error("No Data");try{const t=f().parse(i);x(e,{metadata:t})}catch(t){throw console.error("JSON Error",{error:t,data:i}),t}}catch(t){x(e,{error:(0,l.B9)(t)})}const a=await S.totalSupply(t.id);x(e,{total:a});const n=await S.getMax(t.id);x(e,{max:n})}})).filter((t=>!!t)))}),[S]);return(0,n.useEffect)((()=>{(async()=>{if(S&&b){const t=[];if(k.some((()=>!0)))t.push(...k.map((async t=>{let{high:e,low:a}=t;const n=[e,a];return n.sort(),[a,e]=n,n.some((t=>null!=t))||([e,a]=[t,t]),await Promise.all(Array.from({length:e-a+1}).map((async(t,e)=>await W(a+e,!1))))})));else{const e=Math.min(h,Number(v)-E),a=E<0?v+E:E;t.push(...Array.from({length:e}).map((async(t,e)=>await W(a+e+1))))}const a=(await Promise.all(t)).flat();console.info({generators:t,tokens:a}),await $(a),e(a)}})()}),[k,$,S,b,h,E,W,v]),n.createElement(i.W2,{maxW:"full"},n.createElement(m.q,null,n.createElement("title",null,"𝔐𝔢𝔱𝔞𝔊𝔞𝔪𝔢’𝔰 ’𝓒𝓱𝓲𝓮𝓿𝓮𝓶𝓲𝓷𝓽𝓼"),n.createElement("meta",{name:"description",content:"MetaGame’s ’Chievemint NFTs"})),n.createElement(r.m$.header,{h:"45vh"},n.createElement(i.kC,{maxW:"40rem",margin:"auto"},n.createElement(c.h4,{mt:"5vh",h:"40vh"}))),n.createElement(r.m$.main,null,n.createElement(c.$B,{limit:h,setLimit:g,offset:E,setOffset:w,gatingVisible:y,setGatingVisible:d,visibleList:k,setVisibleList:C}),n.createElement(c.jq,{tokens:t}),n.createElement(i.kC,{justify:"center"},n.createElement(s.zx,{onClick:()=>g((t=>t+10))},"➕10"),n.createElement(s.zx,{ml:5,onClick:()=>w((t=>t+h))},"↓",h))))}}}]);