"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{16036:function(e,t,n){n.d(t,{h4:function(){return d},dL:function(){return B},Pj:function(){return le},Px:function(){return R},xj:function(){return me},h_:function(){return ae},g_:function(){return C},Mm:function(){return pe},$B:function(){return ye},jq:function(){return F},NN:function(){return q}});var r=n(95235),i=n(82269),o=n(64033),c=n(17833),a=n(52322),s=["links"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.links,n=void 0===t?{cup:"/new",sign:"/"}:t,r=(0,i.Z)(e,s);return(0,a.jsxs)(o.kC,u(u({grow:1},r),{},{children:[(0,a.jsx)(c.u,{hasArrow:!0,label:"Create A New Token Type",children:(0,a.jsx)(R,{w:"min(40%, 75vh)",h:"auto",svg:"logo.svg",href:n.cup,title:"Create a new Token"})}),(0,a.jsx)(c.u,{hasArrow:!0,label:"List Existing Tokens",children:(0,a.jsx)(R,{w:"75%",h:"auto",ml:"-15%",svg:"header.svg",href:n.sign,title:"View Existing Tokens"})})]}))},f=n(8529),h=n(20406),p=n(28526),x=n.n(p),j=n(3850),v=n(50050),m=n(10508),b=n(2784),g=n(64618),w=n(63955),y=n(5632),O=n(96111),k=n.n(O),C=function(e){var t=e.purpose,n=void 0===t?"create":t,r=e.tokenId,i=e.metadata,c=(0,g.$6)().rwContract,s=(0,y.useRouter)(),l=(0,w.cI)(),u=l.register,d=l.handleSubmit,p=l.watch,O=l.setValue,C=l.formState,P=(C.errors,C.isSubmitting),I=(C.isDirty,(0,b.useState)(0)),D=I[0],S=I[1],T=(0,j.pm)(),E=(0,b.useCallback)(function(){var e=(0,h.Z)(x().mark((function e(t){var i,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.metadata,c){e.next=3;break}throw new Error("Cannot connect to contract to ".concat(n," metadata."));case 3:if(null!=r){e.next=5;break}throw new Error("Token id is unset.");case 5:if(null==r){e.next=11;break}return e.next=8,c.setURI(BigInt(r),i);case 8:return o=e.sent,e.next=11,o.wait();case 11:return e.abrupt("return",s.push("/view/".concat((0,m.pc)(r))));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,s,c,r]),N=function(){var e=(0,h.Z)(x().mark((function e(t){var n,r,i,o,c,a,s,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,r=t.description,i=t.homepage,o=t.color,c=t.images,a=t.animation,s=t.attributes,l={name:(0,m.DM)(n)?n:"\ud835\ude50\ud835\ude63\ud835\ude69\ud835\ude5e\ud835\ude69\ud835\ude61\ud835\ude5a\ud835\ude59",decimals:0},(0,m.DM)(r)&&(l.description=r),(0,m.DM)(i)&&(l.external_url=i),!Array.isArray(c)){e.next=10;break}return e.next=7,(0,m.hY)(c);case 7:l.image=e.sent[0],e.next=11;break;case 10:null!=c&&console.warn("Unknown Image Type: ".concat(typeof c));case 11:if(!(a instanceof File||"string"===typeof a)){e.next=17;break}return e.next=14,(0,m.hY)(a);case 14:l.animation_url=e.sent[0],e.next=18;break;case 17:null!=a&&console.warn("Unknown Animation Type: ".concat(typeof a));case 18:return null!==o&&void 0!==o&&o.startsWith("#")&&(l.background_color=o.substring(1).toUpperCase()),(0,m.DM)(s)&&!(0,m.xb)(s)&&(l.attributes=s.map((function(e){var t=e.name,n=e.value,r=e.type,i={trait_type:t,value:n};return"string"!==r&&(i.display_type=r),i}))),e.abrupt("return",l);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,h.Z)(x().mark((function e(t){var n,r,i,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="metadata.".concat((new Date).toISOString(),".json"),e.next=4,(0,h.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=D,e.next=0===e.t0?3:1===e.t0?10:2===e.t0?11:14;break;case 3:return e.t1=n,e.t2=JSON,e.next=7,N(t);case 7:return e.t3=e.sent,e.t4=e.t2.stringify.call(e.t2,e.t3,null,2),e.abrupt("return",{name:e.t1,content:e.t4});case 10:return e.abrupt("return",t.uri);case 11:if((0,m.DM)(t.json5)){e.next=13;break}throw new Error("JSON5 isn\u2019t set.");case 13:return e.abrupt("return",{name:n,content:JSON.stringify(k().parse(t.json5),null,2)});case 14:throw new Error("Unknown Tab: ".concat(D));case 15:case"end":return e.stop()}}),e)})))();case 4:if(r=e.sent){e.next=7;break}throw new Error("Metadata is undefined.");case 7:return e.next=9,(0,m.hY)(r);case 9:return i=e.sent,o=(0,f.Z)(i,1),r=o[0],e.next=14,E({metadata:r});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),T({title:"Metadata Error",description:(0,m.B9)(e.t0),status:"error",isClosable:!0,duration:1e4}),console.debug(e.t0.stack);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsxs)(o.Kq,{align:"center",children:[(0,a.jsxs)(o.xu,{as:"form",onSubmit:d(_),mt:10,w:["100%","min(85vw, 40em)"],sx:{a:{textDecoration:"underline"}},children:[(0,a.jsx)(pe,{purpose:n,processing:P,mb:3}),(0,a.jsxs)(v.mQ,{mx:[0,5],isFitted:!0,variant:"enclosed",onChange:function(e){return S(e)},children:[(0,a.jsxs)(v.td,{mb:"1em",children:[(0,a.jsx)(v.OK,{children:"Fields"}),(0,a.jsx)(v.OK,{children:"URI"}),(0,a.jsx)(v.OK,{children:"JSON5"})]}),(0,a.jsx)(v.nP,{children:[ae,q,le].map((function(e,t){return(0,a.jsx)(v.x4,{p:0,children:(0,a.jsx)(e,{register:u,watch:p,setValue:O,tokenId:r,metadata:i})},t)}))})]}),(0,a.jsx)(pe,{purpose:n,processing:P,mb:3})]}),(0,a.jsx)(me,{colorScheme:"blue",tokenId:r,purpose:n})]})},P=n(86915),I=n(69204),D=n(41215),S=n(39097),T=n(75248),E=function(e){var t=e.token;e.index;return(0,a.jsx)(P.Td,{children:(0,a.jsx)(c.u,{label:null!=t.id?(0,m.pc)("0x".concat(BigInt(t.id).toString(16))):"\ud835\ude84\ud835\ude97\ud835\ude94\ud835\ude97\ud835\ude98\ud835\udea0\ud835\ude97",children:(0,a.jsx)(o.xv,{children:t.index})})})},N=function(e){var t=e.token;return(0,a.jsx)(P.Td,{colSpan:4,children:(0,a.jsx)(o.kC,{justify:"center",children:(0,a.jsx)(o.xv,{color:"red",fontStyle:"italic",children:t.error})})})},_=function(){return(0,a.jsx)(P.Td,{colSpan:4,children:(0,a.jsxs)(o.kC,{justify:"center",children:[(0,a.jsx)(I.$,{thickness:"4px"}),(0,a.jsx)(o.xv,{ml:3,children:"Loading Metadata\u2026"})]})})},Z=function(e){var t,n,r,i,c,s,l,u=e.token;return(0,a.jsx)(P.Td,{children:(0,a.jsx)(o.Kq,{children:(0,a.jsx)(S.default,{href:"/view/".concat((0,m.pc)(u.id)),passHref:!0,children:(0,a.jsxs)(o.rU,{children:[(0,a.jsx)(o.xu,{bg:null!==(t=u.metadata)&&void 0!==t&&t.background_color?"#".concat(u.metadata.background_color):"transparent",children:(null===(n=u.metadata)||void 0===n?void 0:n.image)&&(0,a.jsx)(D.m$.object,{data:null!==(r=(0,m._m)(u.metadata.image))&&void 0!==r?r:void 0,title:null!==(i=null===(c=u.metadata)||void 0===c?void 0:c.name)&&void 0!==i?i:"Untitled",maxW:32,maxH:32,objectFit:"contain",margin:"auto"})}),(0,a.jsx)(o.xv,{children:null!==(s=null===(l=u.metadata)||void 0===l?void 0:l.name)&&void 0!==s?s:(0,a.jsx)(o.xv,{as:"em",children:"Untitled"})})]})})})})},U=function(e){var t,n,r=e.token;return(0,a.jsx)(P.Td,{flexGrow:1,sx:{a:{textDecoration:"underline"}},children:(0,a.jsx)(T.D,{linkTarget:"_blank",children:null!==(t=null===(n=r.metadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"*No Description*"})})},A=function(e){var t,n=e.token;return(0,a.jsx)(P.Td,{children:(null===(t=n.metadata)||void 0===t?void 0:t.external_url)&&(0,a.jsx)(o.rU,{href:n.metadata.external_url,isExternal:!0,fontSize:"150%",children:(0,a.jsx)(c.u,{label:n.metadata.external_url,hasArrow:!0,children:"\ud83c\udf10"})})})},M=function(e){var t,n=e.token;return(0,a.jsx)(P.Td,{children:n.uri&&(0,a.jsxs)(o.kC,{justify:"center",fontSize:"150%",children:[(0,a.jsx)(o.rU,{href:null!==(t=(0,m._m)(n.uri))&&void 0!==t?t:void 0,isExternal:!0,children:(0,a.jsx)(c.u,{label:n.uri,hasArrow:!0,children:"\ud83d\udd17"})}),(0,a.jsx)(o.rU,{ml:2,onClick:function(){n.uri&&navigator.clipboard.writeText(n.uri)},children:(0,a.jsx)(c.u,{label:"Copy to Clipboard",hasArrow:!0,children:"\ud83d\udccb"})})]})})},V=function(e){var t=e.token;return(0,a.jsx)(P.Td,{children:(0,a.jsx)(S.default,{href:"/owners/".concat(t.id),children:null==t.total?(0,a.jsx)(I.$,{}):"".concat(t.total," \u2044 ").concat(t.max)})})},L=function(e){var t=e.token;return(0,a.jsx)(P.Td,{children:(0,a.jsxs)(o.kC,{justify:"center",fontSize:"150%",children:[(0,a.jsx)(S.default,{href:"/edit/".concat((0,m.pc)(t.id)),passHref:!0,children:(0,a.jsx)(o.rU,{children:(0,a.jsx)(c.u,{label:"Edit Metadata",hasArrow:!0,children:"\u270f\ufe0f"})})}),(0,a.jsx)(S.default,{href:"/view/".concat(t.id),passHref:!0,children:(0,a.jsx)(o.rU,{ml:2,children:(0,a.jsx)(c.u,{label:"View This NFT",hasArrow:!0,children:"\ud83d\udc41"})})}),(0,a.jsx)(S.default,{href:"/disburse/".concat(t.id),passHref:!0,children:(0,a.jsx)(o.rU,{ml:2,children:(0,a.jsx)(c.u,{label:"Disburse This NFT",hasArrow:!0,children:"\ud83d\udcb8"})})})]})})},F=function(e){var t=e.tokens;return(0,a.jsxs)(P.iA,{sx:{"th, td":{textAlign:"center"},a:{borderBottom:"2px dotted transparent"},"a:hover":{textDecoration:"none",borderBottom:"2px dotted"}},children:[(0,a.jsx)(P.hr,{children:(0,a.jsxs)(P.Tr,{children:[(0,a.jsx)(P.Th,{children:"Id"}),(0,a.jsx)(P.Th,{children:"Display"}),(0,a.jsx)(P.Th,{flexGrow:1,children:"Description"}),(0,a.jsx)(P.Th,{children:"Link"}),(0,a.jsx)(P.Th,{children:"Metadata"}),(0,a.jsx)(P.Th,{children:"Total"}),(0,a.jsx)(P.Th,{children:"Actions"})]})}),(0,a.jsx)(P.p3,{children:t.map((function(e,t){return e.hide?null:(0,a.jsxs)(P.Tr,{children:[(0,a.jsx)(E,{token:e,index:t}),!e.uri&&e.error?(0,a.jsx)(N,{token:e}):e.metadata?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z,{token:e}),(0,a.jsx)(U,{token:e}),(0,a.jsx)(A,{token:e})]}):(0,a.jsx)(_,{token:e}),e.uri&&(0,a.jsx)(M,{token:e}),(0,a.jsx)(V,{token:e}),(0,a.jsx)(L,{token:e})]},t)}))})]})},H=["href","svg"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=b.forwardRef((function(e,t){var n=e.href,r=void 0===n?"#":n,c=e.svg,s=(0,i.Z)(e,H);return(0,a.jsx)(S.default,{href:r,passHref:!0,children:(0,a.jsx)(o.rU,$($({position:"relative",zIndex:1},s),{},{children:(0,a.jsx)(o.xu,{display:"inline-block",w:"full",h:"full",children:(0,a.jsx)(D.m$.object,{maxH:"100%",data:c,ref:t,position:"relative",zIndex:-1})})}))})}));R.displayName="LinkedSVG";var B=function(){return(0,a.jsx)(R,{href:"/",svg:"../favicon.svg",h:"3rem",w:"2rem",position:"fixed",left:"0.25rem",top:"0.25rem"})},X=n(80038);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var q=function(e){var t=e.register;return(0,a.jsx)(X.II,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({placeholder:"Enter a URI for the token\u2026"},t("uri")))},W=n(52746),J=n(39680),Y=n(90028),G=n(26106),Q=n(42840),ee=n(1525),te=n(91506),ne=n(46652),re=n(38566);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=function(e){var t=e.attributes,n=void 0===t?[]:t,i=e.setValue,o=e.index,s=n[o],l=s.name,u=void 0===l?"":l,d=s.value,f=void 0===d?"":d,h=s.type,p=void 0===h?"string":h,x=(0,b.useCallback)((function(e){return function(t){i("attributes",[].concat((0,W.Z)(n.slice(0,o)),[oe(oe({},n[o]),{},(0,r.Z)({},e,t))],(0,W.Z)(n.slice(o+1))))}}),[i,o,n]),j=x("name"),v=x("value"),g=x("type");return(0,a.jsxs)(P.Tr,{children:[(0,a.jsx)(P.Td,{children:(0,a.jsx)(X.II,{value:u,onChange:function(e){var t=e.target.value;j(t)}})}),(0,a.jsx)(P.Td,{children:function(){switch(p){case"date":return(0,a.jsx)(X.II,{type:"date",value:(0,m.xb)(f)?"":new Date(f).toISOString().split("T")[0],onChange:function(e){var t=e.target.value;v(new Date(t).getTime())}});case"string":return(0,a.jsx)(X.II,{value:f,onChange:function(e){var t=e.target.value;v(t)}});default:return(0,a.jsx)(X.II,{type:"number",value:f,onChange:function(e){var t=e.target.value;v(null!=t?Number(t):"")}})}}()}),(0,a.jsx)(P.Td,{children:(0,a.jsxs)(Y.Ph,{value:p,onChange:function(e){var t=e.target.value;g(t)},children:[(0,a.jsx)(D.m$.option,{value:"string",children:"String"}),(0,a.jsx)(D.m$.option,{value:"date",children:"Date"}),(0,a.jsx)(D.m$.option,{value:"number",children:"Number"}),(0,a.jsx)(D.m$.option,{value:"boost_percentage",children:"Boost Percentage"}),(0,a.jsx)(D.m$.option,{value:"boost_number",children:"Boost Number"})]})}),(0,a.jsx)(P.Td,{children:(0,a.jsx)(c.u,{label:"Remove",hasArrow:!0,children:(0,a.jsx)(G.zx,{size:"sm",ml:2,onClick:function(){return i("attributes",[].concat((0,W.Z)(n.slice(0,o)),(0,W.Z)(n.slice(o+1))))},children:(0,a.jsx)(J.Tw,{})})})})]})},ae=function(e){var t=e.register,n=e.watch,r=e.setValue,i=e.tokenId,s=void 0===i?"\ud835\ude1c\ud835\ude2f\ud835\ude2c\ud835\ude2f\ud835\ude30\ud835\ude38\ud835\ude2f":i,l=e.metadata,u=(0,b.useState)(0),d=u[0],h=u[1],p=(0,b.useRef)(null),x=n(),j=x.homepage,g=x.description,w=x.color,y=x.images,O=x.attributes,k=x.animation,C=(0,b.useCallback)((function(e){return r("images",[e])}),[r]);(0,b.useEffect)((function(){if(l){Object.entries({name:null,description:null,external_url:"homepage",animation_url:"animation"}).forEach((function(e){var t=(0,f.Z)(e,2),n=t[0],i=t[1];r(null!==i&&void 0!==i?i:n,l[n])})),r("images",[l.image]);var e=l.attributes;(0,m.xb)(e)||r("attributes",(null!==e&&void 0!==e?e:[]).map((function(e){var t=e.trait_type,n=e.value,r=e.display_type;return{name:t,value:n,type:void 0===r?"string":r}})));var t=l.background_color;t&&!(0,m.xb)(t)&&r("color","#".concat(t))}}),[l,C,r]),(0,b.useEffect)((function(){(!j||(0,m.xb)(j)||j.endsWith("\ud835\ude1c\ud835\ude2f\ud835\ude2c\ud835\ude2f\ud835\ude30\ud835\ude38\ud835\ude2f"))&&r("homepage","".concat(re.U,"/").concat((0,m.pc)(s)))}),[j,r,s]),(0,b.useEffect)((function(){if(window.location.hash){var e,t=document.getElementById(window.location.hash.substring(1));window.scroll({top:(null!==(e=null===t||void 0===t?void 0:t.offsetTop)&&void 0!==e?e:0)-120,behavior:"smooth"})}}),[]);return(0,a.jsxs)(o.QI,{listStyleType:"none",children:[(0,a.jsx)(o.HC,{children:(0,a.jsx)(Q.NI,{mt:3,children:(0,a.jsxs)(o.kC,{direction:{base:"column",md:"row"},children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Name"}),(0,a.jsx)(X.II,oe({autoFocus:!0,ml:{base:0,md:4}},t("name")))]})})}),(0,a.jsx)(o.HC,{children:(0,a.jsxs)(Q.NI,{mt:3,children:[(0,a.jsxs)(o.kC,{direction:{base:"column",md:"row"},children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Images"}),(0,a.jsx)(X.II,{type:"file",accept:"image/*",ref:p,onChange:function(e){var t=e.target.files;null!==t&&void 0!==t&&t.length&&(null===t||void 0===t?void 0:t.length)>=1&&r("images",[].concat((0,W.Z)(null!==y&&void 0!==y?y:[]),(0,W.Z)(Array.from(t))))},display:"none",multiple:!0})]}),(null===y||void 0===y?void 0:y.length)&&(0,a.jsx)(ee.Ee,{value:d,onChange:function(e){h(Number(e))},children:(0,a.jsx)(o.MI,{columns:3,templateColumns:"6rem 1fr 2rem",children:y.map((function(e,t){var n,i=e instanceof File?e.name:e.replace(/^.*\//g,"");return(0,a.jsxs)(b.Fragment,{children:[(0,a.jsx)(o.kC,{w:16,children:(0,a.jsx)(ee.Y8,{value:t,children:"Display Image"})}),(0,a.jsx)(o.kC,{justify:"center",bg:t===d?w:"transparent",children:(0,a.jsx)(c.u,{label:i,hasArrow:!0,children:(0,a.jsx)(te.Ee,{alt:i,src:e instanceof File?URL.createObjectURL(e):null!==(n=(0,m._m)(e))&&void 0!==n?n:void 0,maxH:60,mt:0,onClick:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.click()}})})}),(0,a.jsx)(o.M5,{children:(0,a.jsx)(G.zx,{size:"xs",colorScheme:"red",onClick:function(){return function(e){var t=[].concat((0,W.Z)(y.slice(0,e)),(0,W.Z)(y.slice(e+1)));r("images",t),d===e&&h(t.length>0?0:void 0)}(t)},children:(0,a.jsx)(J.Tw,{})})})]},t)}))})}),(0,a.jsx)(G.zx,{w:"full",mt:3,colorScheme:"teal",onClick:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.click()},children:(0,a.jsx)(J.dt,{})})]})}),(0,a.jsx)(o.HC,{children:(0,a.jsx)(Q.NI,{mt:3,children:(0,a.jsxs)(o.kC,{direction:{base:"column",md:"row"},children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Background"}),(0,a.jsx)(X.II,oe({type:"color"},t("color")))]})})}),(0,a.jsx)(o.HC,{children:(0,a.jsx)(Q.NI,{mt:3,children:(0,a.jsxs)(o.kC,{direction:{base:"column",md:"row"},children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Homepage"}),(0,a.jsxs)(o.kC,{grow:1,children:[(0,a.jsx)(X.II,oe({},t("homepage"))),(null===j||void 0===j?void 0:j.length)>0&&(0,a.jsx)(o.rU,{ml:2,href:j,isExternal:!0,children:(0,a.jsx)(J.h0,{})})]})]})})}),(0,a.jsx)(o.HC,{children:(0,a.jsx)(Q.NI,{mt:3,children:(0,a.jsxs)(o.Kq,{children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Description"}),(0,a.jsxs)(v.mQ,{ml:5,isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(v.td,{mb:"1em",children:[(0,a.jsx)(v.OK,{children:"Markdown"}),(0,a.jsx)(v.OK,{children:"Preview"})]}),(0,a.jsxs)(v.nP,{children:[(0,a.jsx)(v.x4,{children:(0,a.jsx)(ne.g,oe({placeholder:"Enter a markdown formatted description.",minH:32},t("description")))}),(0,a.jsx)(v.x4,{children:(0,a.jsx)(T.D,{children:g})})]})]})]})})}),(0,a.jsx)(o.HC,{children:(0,a.jsx)(Q.NI,{mt:3,children:(0,a.jsxs)(o.kC,{direction:{base:"column",md:"row"},children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Animation"}),"string"===typeof k&&(0,a.jsxs)(o.kC,{children:[(0,a.jsx)(o.xv,{children:decodeURI(k.replace(/^ipfs:\/\/[^/]+\//,""))}),(0,a.jsx)(o.rU,{href:(0,m._m)(k),ml:3,mb:5,isExternal:!0,children:(0,a.jsx)(J.h0,{})})]}),"undefined"!==typeof File&&k instanceof File&&(0,a.jsxs)(o.kC,{children:[(0,a.jsx)(o.xv,{children:k.name}),(0,a.jsx)(o.rU,{ml:3,mb:5,isExternal:!0,href:URL.createObjectURL(k),children:(0,a.jsx)(J.h0,{})})]}),(0,a.jsx)(X.II,{type:"file",accept:"model/gltf+json,model/gltf-binary,video/*,.gltf,.glb",onChange:function(e){var t=e.target.files;1===(null===t||void 0===t?void 0:t.length)?r("animation",t[0]):r("animation",null),e.preventDefault()},h:"auto"})]})})}),(0,a.jsx)(o.HC,{id:"attributes",children:(0,a.jsx)(Q.NI,{mt:3,children:(0,a.jsxs)(o.Kq,{children:[(0,a.jsxs)(o.kC,{children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Attributes"}),(0,a.jsx)(G.zx,{ml:2,size:"xs",onClick:function(){console.log({attributes:O}),r("attributes",[].concat((0,W.Z)(null!==O&&void 0!==O?O:[]),[{}]))},colorScheme:"teal",children:(0,a.jsx)(J.dt,{})})]}),(null===O||void 0===O?void 0:O.length)>0&&(0,a.jsxs)(P.iA,{sx:{"th, td":{textAlign:"center"}},children:[(0,a.jsx)(P.hr,{children:(0,a.jsxs)(P.Tr,{children:[(0,a.jsx)(P.Th,{children:"Name"}),(0,a.jsx)(P.Th,{children:"Value"}),(0,a.jsx)(P.Th,{children:"Type"})]})}),(0,a.jsx)(P.p3,{children:O.map((function(e,t){return(0,a.jsx)(ce,{attributes:O,setValue:r,index:t},t)}))})]})]})})})]})};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var le=function(e){var t=e.register;return(0,a.jsx)(ne.g,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({placeholder:"Enter JSON5 token metadata\u2026",h:"75vh"},t("json5")))},ue=n(2241),de=["purpose","processing","onClick","label"];function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(e){var t=e.purpose,n=e.processing,r=void 0!==n&&n,c=e.onClick,s=e.label,l=void 0===s?"".concat((0,m.kC)(t)," NFT"):s,u=(0,i.Z)(e,de),d=(0,g.$6)(),f=d.chain,p=d.isMetaMask,j=d.userProvider,v=d.connect,w=d.rwContract,y=(0,b.useMemo)((function(){return f!==ue.g.contract.chainId}),[f]),O=(0,b.useState)(r),k=O[0],C=O[1],P=y?ue.g.contract.name:null;return(0,a.jsx)(G.zx,he(he({type:"submit",variant:"solid",colorScheme:!w||y?"blue":"green",isDisabled:y&&!p&&!!w||r||k,w:"full",onClick:function(){var e=(0,h.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(!0),j?y?(t.preventDefault(),(0,m.gu)(ue.g.contract.chainId)):null===c||void 0===c||c.apply(undefined,[t]):(t.preventDefault(),v()),C(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u),{},{children:r||k?(0,a.jsxs)(o.kC,{children:[(0,a.jsx)(I.$,{}),(0,a.jsxs)(o.xv,{ml:2,children:[(0,m.kC)(t).slice(0,-1),"ing\u2026"]})]}):j?y?"Connect To The ".concat(P," Network"):w?l:"Contract Not Connected":"Connect To Continue"}))},xe=["tokenId","purpose"];function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){var t=e.tokenId,n=e.purpose,r=void 0===n?"create":n,c=(0,i.Z)(e,xe),s=(0,b.useState)(null),l=s[0],u=s[1],d=(0,b.useState)(!1),f=d[0],p=d[1],v=(0,g.$6)(),w=v.roContract,y=v.rwContract,O=(0,j.pm)();(0,b.useEffect)((function(){var e=function(){var e=(0,h.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w||!t){e.next=6;break}return e.t0=u,e.next=4,w.getMax(BigInt(t));case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,w]);var k=(0,b.useCallback)(function(){var e=(0,h.Z)(x().mark((function e(n){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),y){e.next=3;break}throw new Error("`rwContract` is not defined");case 3:return e.prev=3,p(!0),e.next=7,y.setMax(t,l);case 7:return r=e.sent,e.next=10,r.wait();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),O({title:"Metadata Error",description:(0,m.B9)(e.t0),status:"error",isClosable:!0,duration:1e4});case 15:return e.prev=15,p(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[l,y,O,t]);return(0,a.jsxs)(o.kC,{as:"form",onSubmit:k,alignItems:"flex-end",children:[(0,a.jsxs)(Q.NI,{display:"flex",w:"auto",alignItems:"baseline",mt:3,children:[(0,a.jsx)(Q.lX,{whiteSpace:"pre",_after:{content:'":"'},children:"Maximum Mintable"}),null==l?(0,a.jsxs)(o.kC,{children:[(0,a.jsx)(I.$,{}),(0,a.jsx)(o.xv,{ml:3,children:"Loading\u2026"})]}):(0,a.jsx)(X.II,{type:"number",mx:{base:0,md:4},w:32,textAlign:"center",value:l,onChange:function(e){var t=e.target.value;console.log({value:t,n:Number(t)}),u(Number(t))}})]}),(0,a.jsx)(pe,ve({label:"Set Max"},ve({purpose:r,processing:f},c)))]})};var be=n(79338);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t=e.limit,n=void 0===t?10:t,r=e.setLimit,i=e.offset,c=void 0===i?0:i,s=e.setOffset,l=e.gatingVisible,u=void 0!==l&&l,d=e.setGatingVisible,f=e.visibleList,p=void 0===f?[]:f,j=e.setVisibleList,v=(0,w.cI)(),m=v.register,g=v.handleSubmit,y=v.control,O=v.setValue,k=v.formState,C=(k.errors,k.isSubmitting,k.isDirty,function(){var e=(0,h.Z)(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log({data:t}),r(Number(t.limit)),s(Number(t.offset)),d(t.gatingVisible),j(null===(n=t.visibleList)||void 0===n?void 0:n.split(/\s*,\s*/).filter((function(e){return""!==e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return(0,b.useEffect)((function(){O("limit",n),O("offset",c),O("visibleList",p.join(", ")),O("gatingVisible",u)}),[n,c,p,u]),(0,a.jsxs)(o.xu,{as:"form",onSubmit:g(C),mt:10,mb:"1rem",maxW:["100%","min(85vw, 50em)"],sx:{a:{textDecoration:"underline"}},children:[(0,a.jsx)(Q.NI,{children:(0,a.jsxs)(o.kC,{align:"center",my:1,children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Limit"}),(0,a.jsx)(X.II,we({type:"number",placeholder:"Number of tokens to display."},m("limit")))]})}),(0,a.jsx)(Q.NI,{children:(0,a.jsxs)(o.kC,{align:"center",my:1,children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Offset"}),(0,a.jsx)(X.II,we({type:"number",placeholder:"Number of tokens offset from Token 1."},m("offset")))]})}),(0,a.jsx)(Q.NI,{children:(0,a.jsxs)(o.kC,{align:"center",my:1,children:[(0,a.jsx)(Q.lX,{_after:{content:'":"'},children:"Visible\xa0List"}),(0,a.jsx)(X.II,we({placeholder:"Comma separated list of indices."},m("visibleList")))]})}),(0,a.jsx)(Q.NI,{children:(0,a.jsx)(o.kC,{align:"center",my:1,children:(0,a.jsx)(w.Qr,{control:y,name:"gatingVisible",defaultValue:u,render:function(e){var t=e.field,n=t.onChange,r=t.value,i=t.ref;return(0,a.jsx)(be.XZ,{onChange:n,ref:i,isChecked:r,children:"View\xa0Permission\xa0Tokens"})}})})}),(0,a.jsx)(G.zx,{type:"submit",children:"View"})]})}},38566:function(e,t,n){n.d(t,{F:function(){return r},U:function(){return i}});var r=n(34406).env.IPFS_LINK_PATTERN||"https://ipfs.infura.io/ipfs/{cid}/{path}",i="https://chiev.es/view"},10508:function(e,t,n){n.d(t,{_m:function(){return p},kC:function(){return x},xb:function(){return j},DM:function(){return v},gu:function(){return m},hY:function(){return b},pc:function(){return g},Ke:function(){return w},B9:function(){return y}});var r=n(52746),i=n(20406),o=n(8529),c=n(28526),a=n.n(c),s=n(75361),l=n(38566),u=n(2241),d=n(8150),f=n(96596),h=n.n(f),p=function(e){var t,n=null!==(t=null===e||void 0===e?void 0:e.match(/^(?:ipfs|dweb):(?:\/\/)?([^/]+)(?:\/(.*))?$/))&&void 0!==t?t:[],r=(0,o.Z)(n,3),i=r[1],c=r[2];if(i){var a=s.CID.parse(i),u=a.toV0().toString(),d=a.toV1().toString(),f=l.F;return encodeURI(f.replace(/{cid}/g,i).replace(/{v0cid}/g,u).replace(/{v1cid}/g,d).replace(/{path}/g,null!==c&&void 0!==c?c:"")).replace(/#/g,"%23")}return e},x=function(e){return null!==e&&void 0!==e&&e.split?e.trim().split(/\s+/g).map((function(e){var t,n,r,i;return"".concat(null!==(t=null===(n=e[0])||void 0===n?void 0:n.toUpperCase())&&void 0!==t?t:"").concat(null!==(r=null===(i=e.substring(1))||void 0===i?void 0:i.toLowerCase())&&void 0!==r?r:"")})).join(" "):e},j=function(e){return Array.isArray(e)?0===e.length:e instanceof Object?0===Object.keys(e).length:""===e},v=function(e){return""!==e&&null!=e},m=function(){var e=(0,i.Z)(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(n=(r=window.ethereum).request)||void 0===n?void 0:n.call(r,{method:"wallet_switchEthereumChain",params:[{chainId:t}]});case 3:e.next=12;break;case 5:if(e.prev=5,e.t0=e.catch(0),4902!==e.t0.code){e.next=11;break}throw new Error("The network \u201c".concat(null!==(i=u.g[t].name)&&void 0!==i?i:"Unknown","\u201d")+" is not yet available in your MetaMask.\n\n Please add it.");case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)(a().mark((function e(t){var n,r,i,c,s,l,u,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!Array.isArray(n)||"string"!==typeof n[0]){e.next=6;break}if(1===(r=n.length)){e.next=5;break}throw new Error("Unexpected ".concat(r," entries in string array")+" passed to ipfsify.");case 5:n=n[0];case 6:if("string"!==typeof n){e.next=10;break}if(!n.startsWith("ipfs://")){e.next=9;break}return e.abrupt("return",[n]);case 9:throw new Error("Unknown File String: ".concat(n));case 10:return i=Array.isArray(n)?n:[n],e.next=13,h()(d.Z.ipfs.addAll(i.map((function(e){var t;return{path:e.name,content:null!==(t=e.content)&&void 0!==t?t:e}})),{pin:!0,wrapWithDirectory:!0}));case 13:return c=e.sent,s=c.slice(-1),l=(0,o.Z)(s,1),u=l[0].cid,f=i.map((function(e){return"ipfs://".concat(u.toString(),"/")+e.name})),e.abrupt("return",f);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){if(!e)return e;for(var t=e.split(/((\w)\2{3,})/g),n=0;n<t.length-1;n++){var i=t[n],c=t[n+1];1===new Set([].concat((0,r.Z)(i),(0,r.Z)(c))).size&&(t[n]+=c,t[n+1]="",n++)}return(t=t.filter((function(e){return""!==e}))).map((function(e){var t=(0,o.Z)(e,1)[0];return e.length>3&&/\w/.test(t)&&1===new Set(e).size?"".concat(t,"{").concat(e.length-1,"}"):e})).join("")},w=function(e){return e?e.split(/(\w\{\d+\})/).map((function(e){var t,n=null!==(t=e.match(/^(.)\{(\d+)\}/))&&void 0!==t?t:[],r=(0,o.Z)(n,3),i=(r[0],r[1]),c=r[2];return i&&c?i.repeat(Number(c)):e})).join(""):e},y=function(e){var t,n,r,i,o;return null!==(t=null!==(n=null!==(r=null===e||void 0===e||null===(i=e.error)||void 0===i?void 0:i.message)&&void 0!==r?r:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message)&&void 0!==n?n:null===e||void 0===e?void 0:e.message)&&void 0!==t?t:e}}}]);