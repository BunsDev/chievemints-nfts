(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68,381],{1381:function(n,t,r){"use strict";r.r(t),t.default="0x2fD05e332fCb602772337a5684B189f26A92CFAB"},59977:function(n,t,r){"use strict";r.r(t),r.d(t,{Owners:function(){return _}});var e,a=r(20406),s=r(7328),o=r(28526),u=r.n(o),i=r(5632),c=r(39097),f=r(60138),d=r(90592),l=r(64033),h=r(64618),p=r(2784),w=r(10508),x=r(16036),v=r(1381),g=r(52322),k=(0,f.Ps)(e||(e=(0,s.Z)(["\n  query NFTOwners(\n    $tokenId: String\n    $contractAddress: String\n    $startAfter: String\n  ) {\n    nfts(where:{ \n      contract: $contractAddress,\n      tokenID: $tokenId\n    }) {\n      ownership(where: {\n        id_gt: $startAfter\n      }) {\n        id\n        owner\n        quantity\n      }\n    }\n  }\n"]))),_=function(){var n=(0,i.useRouter)().query,t=n.nftId,r=n.start_after,e=void 0===r?"":r,s=n.offset,o=void 0===s?0:s,f=(0,p.useState)([]),_=f[0],b=f[1];console.debug({nftId:t,startAfter:e}),Array.isArray(t)&&(t=t[0]);var m=t?BigInt(t).toString():null,y=(0,d.a)(k,{variables:{tokenId:m,contractAddress:v.default.toLowerCase(),startAfter:e}}),A=y.loading,N=y.error,j=y.data,E=(0,p.useState)("\ud835\ude1c\ud835\ude2f\ud835\ude2c\ud835\ude2f\ud835\ude30\ud835\ude38\ud835\ude2f"),I=E[0],C=E[1],S=(0,h.$6)(),q=S.ensProvider,$=S.roContract;return console.debug({loading:A,error:N,data:j}),(0,p.useEffect)((function(){var n=function(){var n=(0,a.Z)(u().mark((function n(){var r,e,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=13;break}return n.next=3,null===$||void 0===$?void 0:$.uri(t);case 3:if(r=n.sent){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,fetch((0,w._m)(r));case 8:return e=n.sent,n.next=11,e.json();case 11:a=n.sent,C(a.name);case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t,$]),(0,p.useEffect)((function(){var n=function(){var n=(0,a.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!j){n.next=9;break}if(!(j.nfts.length>1)){n.next=3;break}throw new Error("Got ".concat(j.nfts.length," NFTs"));case 3:if(1!==j.nfts.length){n.next=9;break}return n.t0=b,n.next=7,Promise.all(j.nfts[0].ownership.map(function(){var n=(0,a.Z)(u().mark((function n(t){var r,e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.owner,n.next=3,null===q||void 0===q?void 0:q.lookupAddress(r);case 3:return(e=n.sent)&&(r=e),n.abrupt("return",{owner:r,quantity:t.quantity,id:t.id});case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()));case 7:n.t1=n.sent,(0,n.t0)(n.t1);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[j,q]),A?"Loading\u2026":N?"Error! ".concat(N.message):(0,g.jsxs)(l.xu,{ml:8,children:[(0,g.jsx)(x.dL,{}),(0,g.jsx)(l.X6,{mt:10,fontSize:20,children:I}),0===_.length?(0,g.jsxs)(l.xv,{children:["Could not find an NFT with id ",t,"."]}):(0,g.jsx)(l.GS,{start:Number(o)+1,children:_.map((function(n,t){return(0,g.jsx)(l.HC,{ml:6,children:"".concat(n.owner," (").concat(n.quantity,")")},t)}))}),100===_.length&&(0,g.jsx)(c.default,{href:{pathname:"/owners",query:{nftId:t,start_after:_.slice(-1)[0].id,offset:Number(o)+100}},passHref:!0,children:(0,g.jsx)(l.rU,{children:"Next"})})]})};t.default=_},71161:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/owners/[nftId]",function(){return r(59977)}])}},function(n){n.O(0,[76,226,36,774,888,179],(function(){return t=71161,n(n.s=t);var t}));var t=n.O();_N_E=t}]);