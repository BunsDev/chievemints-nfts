"use strict";(self.webpackChunk_chievemints_ui=self.webpackChunk_chievemints_ui||[]).push([[378],{50838:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(40272),l=n.n(a),r=n(82609),o=n.n(r)()(l());o.push([e.id,"\n  #xWNkLIYiOXUnXVcbyu1u .izxZGpy4pLSAf1H6k3LQ {\n    display: flex;\n    flex-direction: column;\n  }","",{version:3,sources:["webpack://./src/styles/disburse.module.css"],names:[],mappings:";EACE;IACE,aAAa;IACb,sBAAsB;EACxB",sourcesContent:["#mint {\n  & .actions {\n    display: flex;\n    flex-direction: column;\n  }\n}"],sourceRoot:""}]),o.locals={mint:"xWNkLIYiOXUnXVcbyu1u",actions:"izxZGpy4pLSAf1H6k3LQ"};const i=o},33378:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var a=n(2784),l=n(96278),r=n(60829),o=n(11863),i=n(10289),c=n(18671),s=n(22849),u=n(28359),m=function(){return m=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},m.apply(this,arguments)},p=(0,u.i)("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");const d=function(e){var t=e.loading,n=void 0===t||t,l=e.color,r=void 0===l?"#000000":l,o=e.speedMultiplier,i=void 0===o?1:o,c=e.cssOverride,u=void 0===c?{}:c,d=e.height,E=void 0===d?35:d,y=e.width,f=void 0===y?4:y,b=e.radius,h=void 0===b?2:b,v=e.margin,g=void 0===v?2:v,w=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n}(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),x=m({display:"inherit"},u),O=function(e){return{backgroundColor:r,width:(0,s.E)(f),height:(0,s.E)(E),margin:(0,s.E)(g),borderRadius:(0,s.E)(h),display:"inline-block",animation:"".concat(p," ").concat(1/i,"s ").concat(.1*e,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?a.createElement("span",m({style:x},w),a.createElement("span",{style:O(1)}),a.createElement("span",{style:O(2)}),a.createElement("span",{style:O(3)}),a.createElement("span",{style:O(4)}),a.createElement("span",{style:O(5)})):null};var E=function(){return E=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},E.apply(this,arguments)},y=(0,u.i)("ClockLoader","100% { transform: rotate(360deg) }","rotate");const f=function(e){var t=e.loading,n=void 0===t||t,l=e.color,r=void 0===l?"#000000":l,o=e.speedMultiplier,i=void 0===o?1:o,c=e.cssOverride,u=void 0===c?{}:c,m=e.size,p=void 0===m?50:m,d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n}(e,["loading","color","speedMultiplier","cssOverride","size"]),f=(0,s.h)(p),b=f.value,h=f.unit,v=E({display:"inherit",position:"relative",width:"".concat(b).concat(h),height:"".concat(b).concat(h),backgroundColor:"transparent",boxShadow:"inset 0px 0px 0px 2px ".concat(r),borderRadius:"50%"},u),g={position:"absolute",backgroundColor:r,width:"".concat(b/3,"px"),height:"2px",top:"".concat(b/2-1,"px"),left:"".concat(b/2-1,"px"),transformOrigin:"1px 1px",animation:"".concat(y," ").concat(8/i,"s linear infinite")},w={position:"absolute",backgroundColor:r,width:"".concat(b/2.4,"px"),height:"2px",top:"".concat(b/2-1,"px"),left:"".concat(b/2-1,"px"),transformOrigin:"1px 1px",animation:"".concat(y," ").concat(2/i,"s linear infinite")};return n?a.createElement("span",E({style:v},d),a.createElement("span",{style:w}),a.createElement("span",{style:g})):null};var b=n(88932),h=n(46937),v=n(46062),g=n.n(v),w=n(44036),x=n.n(w),O=n(96793),k=n.n(O),C=n(17892),S=n.n(C),A=n(11173),N=n.n(A),M=n(42464),j=n.n(M),P=n(50838),L={};L.styleTagTransform=j(),L.setAttributes=S(),L.insert=k().bind(null,"head"),L.domAPI=x(),L.insertStyleElement=N(),g()(P.Z,L);const I=P.Z&&P.Z.locals?P.Z.locals:void 0,T=({name:e})=>{const{ensProvider:t}=(0,r.$6)(),n=(0,a.useMemo)((()=>/^0x[a-z0-9]{40}$/i.test(e)),[e]),[l,o]=(0,a.useState)(n?void 0:null);return(0,a.useMemo)((()=>{n||(async()=>{const n=await(t?.resolveName(e));o(n??"Not Found")})()}),[n,t,e]),a.createElement(a.Fragment,null,a.createElement("p",null,e," ",null!=l&&a.createElement("em",null,"(",l,")")),null===l&&a.createElement(d,{color:"#22BB99"}))},B=e=>e.split(/\s*[\s,;:/\\|]+\s*/).filter((e=>e&&""!==e)),F=()=>{const{nftId:e}=(0,i.UO)(),t=(0,a.useMemo)((()=>(0,l.Ke)(Array.isArray(e)?e[0]:e)),[e]),[n,s]=(0,a.useState)(),[u,m]=(0,a.useState)(),[p,d]=(0,a.useState)(),[E,y]=(0,a.useState)(""),[v,g]=(0,a.useState)("mint"),{ensProvider:w,address:x,roContract:O,rwContract:k,connect:C}=(0,r.$6)(),[S,A]=(0,a.useState)([]);(0,a.useEffect)((()=>{(async()=>{A(B(E).map(((e,t)=>a.createElement(T,{key:t,name:e}))))})()}),[w,E]);const N=(0,a.useMemo)((()=>u?.name??`#${t}`),[u,t]);(0,a.useEffect)((()=>{(async()=>{if(O&&x&&t)try{s(Number((await O.balanceOf(x,t)).toString()))}catch(e){d(e.message)}})()}),[x,O,t]),(0,a.useEffect)((()=>{(async()=>{if(O&&t)try{const e=await O.uri(t);if(e){const t=await fetch((0,l._m)(e));m(await t.json())}else m(null)}catch(e){d(e.message)}})()}),[O,t]);const M=(0,a.useCallback)((async e=>{if(e.preventDefault(),!k)return(0,b.Am)("Token is not Connected.");try{const e=await Promise.all(B(E).map((async e=>{const t=await(w?.resolveName(e));if(!t)throw new Error(`Couldn't Resolve Name: “${e}”`);return t})));switch(v){case"mint":{const n=await(k?.["mint(address[],uint256,bytes)"](e,t,[]));await n.wait();break}case"whitelist":console.debug("whitelist",{addrs:e}),e.map((async e=>{await(O?.roleIndexForName("Minter")),await(k?.["mint(address,uint256,uint256,bytes)"](e,t,1,[]))}))}}catch(e){(0,b.Am)((0,l.B9)(e))}}),[v,w,E,O,k,t]);return p?a.createElement("div",null,a.createElement("h2",null,"Error: Loading NFT"),a.createElement("p",null,p)):a.createElement("main",{id:I.mint},a.createElement(c.q,null,a.createElement("title",null,"Mint NFT #",(0,l.pc)(t)),a.createElement("meta",{name:"description",content:"Mint A ’Chievemint NFT"})),a.createElement(o.dL,null),a.createElement("form",{onSubmit:M},null===u?a.createElement("p",null,"Token ",N," does not exist."):x?null==n?a.createElement("div",null,a.createElement(f,{color:"#36d7b7"}),a.createElement("p",null,"Loading Balance…")):a.createElement("h1",null,"Mint up to ",n," “",N,"” tokens:"):a.createElement("p",null,"Connect your wallet to distribute “",N,"” tokens…"),a.createElement(h.mQ,null,a.createElement(h.td,null,a.createElement(h.OK,null,a.createElement("span",{title:"Comma-Separated Values"},"CSV")),a.createElement(h.OK,null,"Parsed")),a.createElement(h.x4,null,a.createElement("label",null,"Comma, Space, or Semicolon Separated ETH or ENS Addresses:"),a.createElement("textarea",{placeholder:"Enter space, semicolon, or comma separated eth addresses.",value:E,onChange:({target:{value:e}})=>{y(e)}})),a.createElement(h.x4,null,a.createElement("ol",null,S.map(((e,t)=>a.createElement("li",{key:t},e)))))),a.createElement("section",{className:I.actions},a.createElement("label",null,a.createElement("span",null,"Mint"),a.createElement("input",{type:"radio",name:"op",value:"mint",checked:!0})),a.createElement("label",null,a.createElement("span",{className:"strike"},"Whitelist"),a.createElement("input",{type:"radio",name:"op",value:"whitelist",disabled:!0}))),a.createElement("section",{className:"action"},k?a.createElement("button",{className:"full"},"Mint"):a.createElement("button",{type:"button",onClick:C,className:"full"},"Connect"))))}}}]);
//# sourceMappingURL=378.bundle.js.map