{"version":3,"file":"301.bundle.js","mappings":"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","sources":["webpack://@chievemints/ui/./src/styles/view.module.css","webpack://@chievemints/ui/./src/pages/self-mint.tsx","webpack://@chievemints/ui/./src/styles/view.module.css?5867","webpack://@chievemints/ui/./src/pages/view.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n  #PYZf1pIedwlYcZN3dnlA h1 {\\n    font-size: clamp(2rem, 10vmin - 3ch, 12rem);\\n    text-align: center;\\n  }\\n\\n#PYZf1pIedwlYcZN3dnlA main {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n  }\\n\\n#PYZf1pIedwlYcZN3dnlA .AxWsOd_N5pN1xiMoGuyv {\\n    margin-bottom: 3rem;\\n  }\\n\\n#PYZf1pIedwlYcZN3dnlA .AxWsOd_N5pN1xiMoGuyv p {\\n      font-size: clamp(1.5rem, 3vmin - 1ch, 4rem);\\n      max-width: 65ch;\\n      text-indent: 1em;\\n      margin: auto 0.75em;\\n      text-align: justify;\\n    }\\n\\n.gUkRHukL1hEF47HMkovR {\\n  max-width: 80vmin;\\n  max-height: 80vmin;\\n  border-radius: 5%;\\n  padding: 3.5vw;\\n  outline: 4px double #000;\\n  margin-bottom: 3rem;\\n}\\n\\n.SXSKkyakKyb5_aqwfFH7, .b3chMkGSCuTOcRmFEAgy, .kjVTnlLf2thEdjyG0Zjj {\\n  border-radius: 2.5rem;\\n  padding: 0;\\n  width: 80dvw;\\n  height: min(75ch, 100dvh);\\n  overflow: hidden;\\n  outline: 4px double #000;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles/view.module.css\"],\"names\":[],\"mappings\":\";EACE;IACE,2CAA2C;IAC3C,kBAAkB;EACpB;;AAEA;IACE,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,uBAAuB;EACzB;;AAEA;IACE,mBAAmB;EASrB;;AAPE;MACE,2CAA2C;MAC3C,eAAe;MACf,gBAAgB;MAChB,mBAAmB;MACnB,mBAAmB;IACrB;;AAIJ;EACE,iBAAiB;EACjB,kBAAkB;EAClB,iBAAiB;EACjB,cAAc;EACd,wBAAwB;EACxB,mBAAmB;AACrB;;AAEA;EACE,qBAAqB;EACrB,UAAU;EACV,YAAY;EACZ,yBAAyB;EACzB,gBAAgB;EAChB,wBAAwB;AAC1B\",\"sourcesContent\":[\"#style {\\n  & h1 {\\n    font-size: clamp(2rem, 10vmin - 3ch, 12rem);\\n    text-align: center;\\n  }\\n\\n  & main {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n  }\\n\\n  & .markdown {\\n    margin-bottom: 3rem;\\n\\n    & p {\\n      font-size: clamp(1.5rem, 3vmin - 1ch, 4rem);\\n      max-width: 65ch;\\n      text-indent: 1em;\\n      margin: auto 0.75em;\\n      text-align: justify;\\n    }\\n  }\\n}\\n\\n.image {\\n  max-width: 80vmin;\\n  max-height: 80vmin;\\n  border-radius: 5%;\\n  padding: 3.5vw;\\n  outline: 4px double #000;\\n  margin-bottom: 3rem;\\n}\\n\\n.video, .object, .model {\\n  border-radius: 2.5rem;\\n  padding: 0;\\n  width: 80dvw;\\n  height: min(75ch, 100dvh);\\n  overflow: hidden;\\n  outline: 4px double #000;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"style\": \"PYZf1pIedwlYcZN3dnlA\",\n\t\"markdown\": \"AxWsOd_N5pN1xiMoGuyv\",\n\t\"image\": \"gUkRHukL1hEF47HMkovR\",\n\t\"video\": \"SXSKkyakKyb5_aqwfFH7\",\n\t\"object\": \"b3chMkGSCuTOcRmFEAgy\",\n\t\"model\": \"kjVTnlLf2thEdjyG0Zjj\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","import React, { useCallback, useState } from 'react'\nimport { deregexify, extractMessage, regexify } from '@/lib/helpers'\nimport { useParams } from 'react-router-dom'\nimport { View } from './view'\nimport { Helmet } from 'react-helmet'\nimport { SubmitButton } from '@/components'\nimport { useWeb3 } from '@/lib/hooks'\n\nexport const SelfMint: React.FC<{ tokenId: string }> = ({ tokenId }) => {\n  const { rwContract, address } = useWeb3()\n  const [processing, setProcessing] = useState(false)\n\n  const mint = useCallback(async () => {\n    try {\n      setProcessing(true)\n      const tx = await (\n        rwContract['mint(address[],uint256,bytes)'](\n          [address], BigInt(tokenId), []\n        )\n      )\n      await tx.wait()\n    } catch(error) {\n      console.error({ error })\n      // toast({\n      //   title: 'Minting Error',\n      //   description: extractMessage(error),\n      //   status: 'error',\n      //   isClosable: true,\n      //   duration: 10000\n      // })\n    } finally {\n      setProcessing(false)\n    }\n  }, [address, rwContract, tokenId])\n\n  return (\n    <main id=\"self-mint\">\n      <Helmet>\n        <title>Self-Mint NFT #{regexify(tokenId)}</title>\n        <meta name=\"description\" content=\"Mint a â€™Chievemint NFT\" />\n      </Helmet>\n\n\n      <form onSubmit={mint}>\n        <SubmitButton purpose=\"mint\" {...{ processing }}/>\n        <View {...{ tokenId }} header={false}/>\n        <SubmitButton purpose=\"mint\" {...{ processing }}/>\n      </form>\n    </main>\n  )\n}\n\nexport const SelfMintPage = () => {\n  const { nftId } = useParams() \n  const tokenId = deregexify(\n    Array.isArray(nftId) ? nftId[0] : nftId\n  )\n\n  return <SelfMint {...{ tokenId }}/>\n}\n\nexport default SelfMintPage","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./view.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./view.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useState } from 'react'\nimport Markdown from 'react-markdown'\nimport remarkGfm from 'remark-gfm'\nimport { useParams } from 'react-router-dom'\nimport { Helmet } from 'react-helmet'\nimport JSON5 from 'json5'\nimport {\n  regexify, deregexify, httpURL,\n} from '@/lib/helpers'\nimport type { ERC1155Metadata } from '@/lib/types'\nimport { HomeLink, ThreeDScene } from '@/components'\nimport { useWeb3 } from '@/lib/hooks'\nimport { FadeLoader } from 'react-spinners'\nimport vs from '../styles/view.module.css'\n\nexport const View: React.FC<{ tokenId: string, header?: boolean }> = (\n  ({ tokenId, header = true }) => {\n    const [metadata, setMetadata] = useState<ERC1155Metadata>()\n    const [error, setError] = useState<string>()\n    const { roContract } = useWeb3()\n\n    useEffect(\n      () => {\n        const getMetadata = async () => {\n          if(roContract && tokenId) {\n            try {\n              let realId = BigInt(tokenId)\n              if(realId < 2**32) {\n                realId = await roContract.tokenByIndex(realId)\n              }\n\n              const metadataURI = await roContract.uri(realId)\n              const metadataURL = httpURL(metadataURI)\n              if(!metadataURL) {\n                throw new Error(\n                  `Couldn't find metadata for token #${regexify(tokenId)}.`\n                )\n              }\n              const response = await fetch(metadataURL)\n              const data = await response.text()\n              setMetadata(JSON5.parse(data))\n            } catch(err) {\n              setError((err as Error).message)\n            }\n          }\n        }\n\n        getMetadata()\n      },\n      [roContract, tokenId],\n    )\n\n    if(error) {\n      return (\n        <aside>\n          <span>Error: Loading NFT</span>\n          <span>{error}</span>\n        </aside>\n      )\n    }\n\n    if(!metadata) {\n      return (\n        <main>\n          <FadeLoader color=\"#36d7b7\" height={100}/>\n          <p>Loading Metadata for Token #{regexify(tokenId)}</p>\n        </main>\n      )\n    }\n\n    const {\n      name, image, animation_url: animation,\n      description, background_color: bg,\n    } = metadata\n\n    return (\n      <div id={vs.style}>\n        {header && (\n          <Helmet>\n            <title>{name} (#{regexify(tokenId)})</title>\n            <meta\n              name=\"description\"\n              content={description}\n            />\n          </Helmet>\n        )}\n        <header><HomeLink/></header>\n        <header>\n          {name && <h1>{name}</h1>}\n        </header>\n        <main>\n          {image && (\n            <object\n              data={httpURL(image as string) ?? undefined}\n              title={name}\n              className={vs.image}\n              style={{ backgroundColor: `#${bg}` }}\n            />\n          )}\n          {description && (\n            <Markdown\n              className={vs.markdown}\n              remarkPlugins={[remarkGfm]}\n              linkTarget=\"_blank\"\n            >\n              {description}\n            </Markdown>\n          )}\n          {animation && (\n            (() => {\n              const url = httpURL(animation as string) ?? undefined\n\n              if(/(mpe?g|mp4)$/i.test(animation as string)) {\n                return (\n                  <video\n                    controls autoPlay loop muted\n                    className={vs.video}\n                  >\n                    <source src={url}/>\n                  </video>\n                )\n              } else if(/(glb|gltf)$/i.test(animation as string)) {\n                return (\n                  <ThreeDScene\n                    model={url}\n                    className={vs.model}                            \n                    {...{ bg }}\n                  />\n                )\n              } else {\n                return (\n                  <object\n                    data={url}\n                    title={name}\n                    className={vs.object}\n                  />\n                )\n              }\n            })()\n          )}\n        </main>\n      </div>\n    )\n  }\n)\n\nexport const ViewPage = () => {\n  const { nftId } = useParams() \n  const tokenId = deregexify(\n    Array.isArray(nftId) ? nftId[0] : nftId\n  )\n\n  return <View {...{ tokenId }}/>\n}\n\nexport default ViewPage"],"names":["___CSS_LOADER_EXPORT___","push","module","id","locals","SelfMint","tokenId","rwContract","address","processing","setProcessing","useState","mint","useCallback","async","tx","BigInt","wait","error","console","name","content","onSubmit","purpose","View","header","SelfMintPage","nftId","Array","isArray","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","metadata","setMetadata","setError","roContract","useEffect","realId","tokenByIndex","metadataURI","uri","metadataURL","Error","response","fetch","data","text","err","message","getMetadata","FadeLoader","color","height","image","animation_url","animation","description","background_color","bg","Helmet","title","className","style","backgroundColor","remarkPlugins","linkTarget","url","test","controls","autoPlay","loop","muted","src","model","ViewPage"],"sourceRoot":""}